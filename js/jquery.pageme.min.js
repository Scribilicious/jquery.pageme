/********************************************************************************
* jquery.pageme.js - programmed by Jens Eldering (C) 2013 by Atec Media (C)
*********************************************************************************
* Version    : 1.0.4
* Release    : 26-4-2013
* License    : CC BY-SA 3.0 | http://creativecommons.org/licenses/by-sa/3.0/
* Script     : Javascript / jQuery
*
* Programmer : Jens Eldering
* Contact    : jens@atecmedia.com
********************************************************************************/
window.jQuery&&function(a){a.fn.pageme=function(c){c=a.extend({status:'<div class="scrollLoad"></div>',loading:"Loading...",finished:"Finished...",error:"Error loading...",statusfade:500,statuspause:1E3,container:".container",next:".next",navigation:".navigate",nextfade:500,datatype:"html"},c);!1===c.nextfade&&(c.nextfade=0);!1===c.statusfade&&(c.statusfade=0);return this.each(function(){a(this).find(c.next).length&&a(this).find(c.next).attr("href").length&&a.fn.pageme.doscroll(a(this),a(this).find(c.next).attr("href"),
c);a(this).find(c.container).length&&a(this).find(c.container).contents().unwrap();a(this).find(c.navigation).length&&a(this).find(c.navigation).remove()})};a.fn.pageme.doscroll=function(c,g,b){var d=b.status?a(b.status):!1;a(window).scroll(function(){a(window).scrollTop()+a.fn.pageme.height()>a(document).height()-10&&(a(window).unbind("scroll"),d&&b.loading&&a("body").append(d.html(b.loading).fadeIn(b.statusfade)),a.ajax({url:g,cache:!1,dataType:b.datatype,success:function(e){var f=a("<div></div>").hide().html(a(b.container,
e).html());a(f).appendTo(c).fadeIn(b.nextfade,function(){a(f).contents().unwrap()});if(a(b.next,e).length&&a(b.next,e).attr("href").length)a.fn.pageme.doscroll(c,a(b.next,e).attr("href"),b);else if(d&&b.finished){d.fadeOut(b.statusfade,function(){d.html(b.finished).fadeIn(b.statusfade).delay(b.statuspause).fadeOut(b.statusfade,function(){d.remove()})});return}d&&b.loading&&d.fadeOut(b.statusfade,function(){d.remove()})},error:function(){d&&b.error&&d.fadeOut(b.statusfade,function(){d.html(b.error).fadeIn(b.statusfade).delay(b.statuspause).fadeOut(b.statusfade,
function(){d.remove()})})}}))})};a.fn.pageme.height=function(){return"undefined"!=typeof window.innerHeight?window.innerHeight:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientHeight&&0!=document.documentElement.clientHeight?document.documentElement.clientHeight:document.getElementsByTagName("body")[0].clientHeight}}(jQuery);
